<!DOCTYPE html><html lang="en" style="font-size:16px"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Class: Model</title><!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]--><script src="scripts/third-party/hljs.js" defer="defer"></script><script src="scripts/third-party/hljs-line-num.js" defer="defer"></script><script src="scripts/third-party/popper.js" defer="defer"></script><script src="scripts/third-party/tippy.js" defer="defer"></script><script src="scripts/third-party/tocbot.min.js"></script><script>var baseURL="/",locationPathname="",baseURL=(locationPathname=document.location.pathname).substr(0,locationPathname.lastIndexOf("/")+1)</script><link rel="stylesheet" href="styles/clean-jsdoc-theme.min.css"><svg aria-hidden="true" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="display:none"><defs><symbol id="copy-icon" viewbox="0 0 488.3 488.3"><g><path d="M314.25,85.4h-227c-21.3,0-38.6,17.3-38.6,38.6v325.7c0,21.3,17.3,38.6,38.6,38.6h227c21.3,0,38.6-17.3,38.6-38.6V124    C352.75,102.7,335.45,85.4,314.25,85.4z M325.75,449.6c0,6.4-5.2,11.6-11.6,11.6h-227c-6.4,0-11.6-5.2-11.6-11.6V124    c0-6.4,5.2-11.6,11.6-11.6h227c6.4,0,11.6,5.2,11.6,11.6V449.6z"/><path d="M401.05,0h-227c-21.3,0-38.6,17.3-38.6,38.6c0,7.5,6,13.5,13.5,13.5s13.5-6,13.5-13.5c0-6.4,5.2-11.6,11.6-11.6h227    c6.4,0,11.6,5.2,11.6,11.6v325.7c0,6.4-5.2,11.6-11.6,11.6c-7.5,0-13.5,6-13.5,13.5s6,13.5,13.5,13.5c21.3,0,38.6-17.3,38.6-38.6    V38.6C439.65,17.3,422.35,0,401.05,0z"/></g></symbol><symbol id="search-icon" viewBox="0 0 512 512"><g><g><path d="M225.474,0C101.151,0,0,101.151,0,225.474c0,124.33,101.151,225.474,225.474,225.474    c124.33,0,225.474-101.144,225.474-225.474C450.948,101.151,349.804,0,225.474,0z M225.474,409.323    c-101.373,0-183.848-82.475-183.848-183.848S124.101,41.626,225.474,41.626s183.848,82.475,183.848,183.848    S326.847,409.323,225.474,409.323z"/></g></g><g><g><path d="M505.902,476.472L386.574,357.144c-8.131-8.131-21.299-8.131-29.43,0c-8.131,8.124-8.131,21.306,0,29.43l119.328,119.328    c4.065,4.065,9.387,6.098,14.715,6.098c5.321,0,10.649-2.033,14.715-6.098C514.033,497.778,514.033,484.596,505.902,476.472z"/></g></g></symbol><symbol id="font-size-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M11.246 15H4.754l-2 5H.6L7 4h2l6.4 16h-2.154l-2-5zm-.8-2L8 6.885 5.554 13h4.892zM21 12.535V12h2v8h-2v-.535a4 4 0 1 1 0-6.93zM19 18a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/></symbol><symbol id="add-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M11 11V5h2v6h6v2h-6v6h-2v-6H5v-2z"/></symbol><symbol id="minus-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M5 11h14v2H5z"/></symbol><symbol id="dark-theme-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M10 7a7 7 0 0 0 12 4.9v.1c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2h.1A6.979 6.979 0 0 0 10 7zm-6 5a8 8 0 0 0 15.062 3.762A9 9 0 0 1 8.238 4.938 7.999 7.999 0 0 0 4 12z"/></symbol><symbol id="light-theme-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M12 18a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm0-2a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM11 1h2v3h-2V1zm0 19h2v3h-2v-3zM3.515 4.929l1.414-1.414L7.05 5.636 5.636 7.05 3.515 4.93zM16.95 18.364l1.414-1.414 2.121 2.121-1.414 1.414-2.121-2.121zm2.121-14.85l1.414 1.415-2.121 2.121-1.414-1.414 2.121-2.121zM5.636 16.95l1.414 1.414-2.121 2.121-1.414-1.414 2.121-2.121zM23 11v2h-3v-2h3zM4 11v2H1v-2h3z"/></symbol><symbol id="reset-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M18.537 19.567A9.961 9.961 0 0 1 12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10c0 2.136-.67 4.116-1.81 5.74L17 12h3a8 8 0 1 0-2.46 5.772l.997 1.795z"/></symbol><symbol id="down-icon" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.7803 6.21967C13.0732 6.51256 13.0732 6.98744 12.7803 7.28033L8.53033 11.5303C8.23744 11.8232 7.76256 11.8232 7.46967 11.5303L3.21967 7.28033C2.92678 6.98744 2.92678 6.51256 3.21967 6.21967C3.51256 5.92678 3.98744 5.92678 4.28033 6.21967L8 9.93934L11.7197 6.21967C12.0126 5.92678 12.4874 5.92678 12.7803 6.21967Z"></path></symbol><symbol id="codepen-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M16.5 13.202L13 15.535v3.596L19.197 15 16.5 13.202zM14.697 12L12 10.202 9.303 12 12 13.798 14.697 12zM20 10.869L18.303 12 20 13.131V10.87zM19.197 9L13 4.869v3.596l3.5 2.333L19.197 9zM7.5 10.798L11 8.465V4.869L4.803 9 7.5 10.798zM4.803 15L11 19.131v-3.596l-3.5-2.333L4.803 15zM4 13.131L5.697 12 4 10.869v2.262zM2 9a1 1 0 0 1 .445-.832l9-6a1 1 0 0 1 1.11 0l9 6A1 1 0 0 1 22 9v6a1 1 0 0 1-.445.832l-9 6a1 1 0 0 1-1.11 0l-9-6A1 1 0 0 1 2 15V9z"/></symbol><symbol id="close-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M12 10.586l4.95-4.95 1.414 1.414-4.95 4.95 4.95 4.95-1.414 1.414-4.95-4.95-4.95 4.95-1.414-1.414 4.95-4.95-4.95-4.95L7.05 5.636z"/></symbol><symbol id="menu-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M3 4h18v2H3V4zm0 7h18v2H3v-2zm0 7h18v2H3v-2z"/></symbol></defs></svg></head><body class="dark" data-theme="dark"><div class="sidebar-container"><div class="sidebar" id="sidebar"><a href="/" class="sidebar-title sidebar-title-anchor">Home</a><div class="sidebar-items-container"><div class="sidebar-section-title with-arrow" data-isopen="false" id="FGy1l57fNk4UoJcJB640p"><div>Classes</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="FactoryFarm.html">FactoryFarm</a></div><div class="sidebar-section-children"><a href="MockServer.html">MockServer</a></div><div class="sidebar-section-children"><a href="Model.html">Model</a></div><div class="sidebar-section-children"><a href="Store.html">Store</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="G8u7SHmMC2Ta12ZcKygGO"><div>Global</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="global.html#addIncluded">addIncluded</a></div><div class="sidebar-section-children"><a href="global.html#circularFetchError">circularFetchError</a></div><div class="sidebar-section-children"><a href="global.html#circularFindError">circularFindError</a></div><div class="sidebar-section-children"><a href="global.html#combineRacedRequests">combineRacedRequests</a></div><div class="sidebar-section-children"><a href="global.html#deriveIdQueryStrings">deriveIdQueryStrings</a></div><div class="sidebar-section-children"><a href="global.html#diff">diff</a></div><div class="sidebar-section-children"><a href="global.html#disallowFetches">disallowFetches</a></div><div class="sidebar-section-children"><a href="global.html#makeDate">makeDate</a></div><div class="sidebar-section-children"><a href="global.html#parseErrorPointer">parseErrorPointer</a></div><div class="sidebar-section-children"><a href="global.html#parseErrors">parseErrors</a></div><div class="sidebar-section-children"><a href="global.html#requestUrl">requestUrl</a></div><div class="sidebar-section-children"><a href="global.html#serverResponse">serverResponse</a></div><div class="sidebar-section-children"><a href="global.html#singularizeType">singularizeType</a></div><div class="sidebar-section-children"><a href="global.html#stringifyIds">stringifyIds</a></div><div class="sidebar-section-children"><a href="global.html#validateProperties">validateProperties</a></div><div class="sidebar-section-children"><a href="global.html#walk">walk</a></div><div class="sidebar-section-children"><a href="global.html#wrapResponse">wrapResponse</a></div></div></div></div></div><div class="navbar-container" id="VuAckcnZhf"><nav class="navbar"><div class="navbar-left-items"></div><div class="navbar-right-items"><div class="navbar-right-item"><button class="icon-button search-button" aria-label="open-search"><svg><use xlink:href="#search-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button theme-toggle" aria-label="toggle-theme"><svg><use class="theme-svg-use" xlink:href="#light-theme-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button font-size" aria-label="change-font-size"><svg><use xlink:href="#font-size-icon"></use></svg></button></div></div><nav></nav></nav></div><div class="toc-container"><div class="toc-content"><span class="bold">On this page</span><div id="eed4d2a0bfd64539bb9df78095dec881"></div></div></div><div class="body-wrapper"><div class="main-content"><div class="main-wrapper"><section><header><h1 id="Model-title" class="has-anchor">Model</h1><div class="class-description"><p>The base class for data records</p></div></header><article><div class="container-overview"><h2 id="constructor" class="has-anchor">Constructor</h2><h3 class="name has-anchor" id="Model"><span class="type-signature"></span>new Model<span class="signature">(initialAttributes)</span></h3><div class="description"><p>Initializer for model</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>initialAttributes</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>relationships and attributes to override defaults</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Model.js.html">Model.js</a>, <a href="Model.js.html#line66">line 66</a></li></ul></dd></div></dl></div><h2 id="members" class="subsection-title has-anchor">Members</h2><h3 class="name has-anchor" id="_snapshots"><span class="type-signature"></span>_snapshots<span class="type-signature"> :Array</span></h3><div class="description"><p>a list of snapshots that have been taken since the record was either last persisted or since it was instantiated</p></div><div class="member-item-container flex"><strong>Type:</strong><ul><li><span class="param-type">Array</span></li></ul></div><dl class="details"><div class="details-item-container"><dt class="tag-default bold">Default Value</dt><dd class="tag-default"><ul><li data-skip-pre-process="true">[]</li></ul></dd></div><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Model.js.html">Model.js</a>, <a href="Model.js.html#line274">line 274</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="attributeDefinitions"><span class="type-signature"></span>attributeDefinitions<span class="type-signature"> :object</span></h3><div class="description"><p>Getter find the attribute definition for the model type.</p></div><div class="member-item-container flex"><strong>Type:</strong><ul><li><span class="param-type">object</span></li></ul></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Model.js.html">Model.js</a>, <a href="Model.js.html#line582">line 582</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="attributeNames"><span class="type-signature"></span>attributeNames<span class="type-signature"></span></h3><div class="description"><p>Getter to just get the names of a records attributes.</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Model.js.html">Model.js</a>, <a href="Model.js.html#line620">line 620</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="attributes"><span class="type-signature"></span>attributes<span class="type-signature"> :object</span></h3><div class="description"><p>current attributes of record</p></div><div class="member-item-container flex"><strong>Type:</strong><ul><li><span class="param-type">object</span></li></ul></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Model.js.html">Model.js</a>, <a href="Model.js.html#line564">line 564</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="defaultAttributes"><span class="type-signature"></span>defaultAttributes<span class="type-signature"></span></h3><div class="description"><p>getter method to get the default attributes</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Model.js.html">Model.js</a>, <a href="Model.js.html#line638">line 638</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="dirtyAttributes"><span class="type-signature"></span>dirtyAttributes<span class="type-signature"> :Array</span></h3><div class="description"><p>A list of any attribute paths which have been changed since the previous snapshot</p><p>const todo = new Todo({ title: 'Buy Milk' }) todo.dirtyAttributes =&gt; [] todo.title = 'Buy Cheese' todo.dirtyAttributes =&gt; ['title'] todo.options = { variety: 'Cheddar' } todo.dirtyAttributes =&gt; ['title', 'options.variety']</p></div><div class="member-item-container flex"><strong>Type:</strong><ul><li><span class="param-type">Array</span></li></ul></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Model.js.html">Model.js</a>, <a href="Model.js.html#line160">line 160</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="dirtyRelationships"><span class="type-signature"></span>dirtyRelationships<span class="type-signature"> :Array</span></h3><div class="description"><p>A list of any relationship paths which have been changed since the previous snapshot We check changes to both ids and types in case there are polymorphic relationships</p><p>const todo = new Todo({ title: 'Buy Milk' }) todo.dirtyRelationships =&gt; [] todo.note = note1 todo.dirtyRelationships =&gt; ['relationships.note']</p></div><div class="member-item-container flex"><strong>Type:</strong><ul><li><span class="param-type">Array</span></li></ul></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Model.js.html">Model.js</a>, <a href="Model.js.html#line193">line 193</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="endpoint"><span class="type-signature"></span>endpoint<span class="type-signature"> :string</span></h3><div class="description"><p>The canonical path to the resource on the server. Defined on the class. Defaults to the underscored version of the class name</p></div><div class="member-item-container flex"><strong>Type:</strong><ul><li><span class="param-type">string</span></li></ul></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Model.js.html">Model.js</a>, <a href="Model.js.html#line108">line 108</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="errors"><span class="type-signature"></span>errors<span class="type-signature"> :object</span></h3><div class="description"><p>A hash of errors from the server</p><pre class="prettyprint source"><code>todo = store.find('todos', 5)
todo.errors
=> { authorization: &quot;You do not have access to this resource&quot; }
</code></pre></div><div class="member-item-container flex"><strong>Type:</strong><ul><li><span class="param-type">object</span></li></ul></div><dl class="details"><div class="details-item-container"><dt class="tag-default bold">Default Value</dt><dd class="tag-default"><ul><li data-skip-pre-process="true">{}</li></ul></dd></div><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Model.js.html">Model.js</a>, <a href="Model.js.html#line266">line 266</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="hasErrors"><span class="type-signature"></span>hasErrors<span class="type-signature"> :boolean</span></h3><div class="description"><p>Getter to check if the record has errors.</p></div><div class="member-item-container flex"><strong>Type:</strong><ul><li><span class="param-type">boolean</span></li></ul></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Model.js.html">Model.js</a>, <a href="Model.js.html#line601">line 601</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="hasUnpersistedChanges"><span class="type-signature"></span>hasUnpersistedChanges<span class="type-signature"> :boolean</span></h3><div class="description"><p>Have any changes been made since this record was last persisted?</p></div><div class="member-item-container flex"><strong>Type:</strong><ul><li><span class="param-type">boolean</span></li></ul></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Model.js.html">Model.js</a>, <a href="Model.js.html#line222">line 222</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="isDirty"><span class="type-signature"></span>isDirty<span class="type-signature"> :boolean</span></h3><div class="description"><p>True if the instance has been modified from its persisted state</p><p>NOTE that isDirty does <em>NOT</em> track changes to the related objects but it <em>does</em> track changes to the relationships themselves.</p><p>For example, adding or removing a related object will mark this record as dirty, but changing a related object's properties will not mark this record as dirty.</p><p>The caller is reponsible for asking related objects about their own dirty state.</p><pre class="prettyprint source"><code>todo = store.add('todos', { name: 'A good thing to measure' })
todo.isDirty
=> true
todo.name
=> &quot;A good thing to measure&quot;
await todo.save()
todo.isDirty
=> false
todo.name = &quot;Another good thing to measure&quot;
todo.isDirty
=> true
await todo.save()
todo.isDirty
=> false
</code></pre></div><div class="member-item-container flex"><strong>Type:</strong><ul><li><span class="param-type">boolean</span></li></ul></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Model.js.html">Model.js</a>, <a href="Model.js.html#line141">line 141</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="isInFlight"><span class="type-signature"></span>isInFlight<span class="type-signature"> :boolean</span></h3><div class="description"><p>True if the instance is coming from / going to the server</p><pre class="prettyprint source"><code>todo = store.find('todos', 5)
// fetch started
todo.isInFlight
=> true
// fetch finished
todo.isInFlight
=> false
</code></pre></div><div class="member-item-container flex"><strong>Type:</strong><ul><li><span class="param-type">boolean</span></li></ul></div><dl class="details"><div class="details-item-container"><dt class="tag-default bold">Default Value</dt><dd class="tag-default"><ul><li data-skip-pre-process="true">false</li></ul></dd></div><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Model.js.html">Model.js</a>, <a href="Model.js.html#line253">line 253</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="isNew"><span class="type-signature"></span>isNew<span class="type-signature"> :boolean</span></h3><div class="description"><p>True if the model has not been sent to the store</p></div><div class="member-item-container flex"><strong>Type:</strong><ul><li><span class="param-type">boolean</span></li></ul></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Model.js.html">Model.js</a>, <a href="Model.js.html#line231">line 231</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="persistedSnapshot"><span class="type-signature"></span>persistedSnapshot<span class="type-signature"> :object</span></h3><div class="description"><p>the latest persisted snapshot or the first snapshot if the model was never persisted</p></div><div class="member-item-container flex"><strong>Type:</strong><ul><li><span class="param-type">object</span></li></ul></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Model.js.html">Model.js</a>, <a href="Model.js.html#line508">line 508</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="previousSnapshot"><span class="type-signature"></span>previousSnapshot<span class="type-signature"> :object</span></h3><div class="description"><p>the latest snapshot</p></div><div class="member-item-container flex"><strong>Type:</strong><ul><li><span class="param-type">object</span></li></ul></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Model.js.html">Model.js</a>, <a href="Model.js.html#line497">line 497</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="relationshipDefinitions"><span class="type-signature"></span>relationshipDefinitions<span class="type-signature"> :object</span></h3><div class="description"><p>Getter find the relationship definitions for the model type.</p></div><div class="member-item-container flex"><strong>Type:</strong><ul><li><span class="param-type">object</span></li></ul></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Model.js.html">Model.js</a>, <a href="Model.js.html#line591">line 591</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="relationshipNames"><span class="type-signature"></span>relationshipNames<span class="type-signature"></span></h3><div class="description"><p>Getter to just get the names of a records relationships.</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Model.js.html">Model.js</a>, <a href="Model.js.html#line629">line 629</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="snapshot"><span class="type-signature"></span>snapshot<span class="type-signature"> :object</span></h3><div class="description"><p>The current state of defined attributes and relationships of the instance Really just an alias for attributes</p><pre class="prettyprint source"><code>todo = store.find('todos', 5)
todo.title
=> &quot;Buy the eggs&quot;
snapshot = todo.snapshot
todo.title = &quot;Buy the eggs and bacon&quot;
snapshot.title
=> &quot;Buy the eggs and bacon&quot;
</code></pre></div><div class="member-item-container flex"><strong>Type:</strong><ul><li><span class="param-type">object</span></li></ul></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Model.js.html">Model.js</a>, <a href="Model.js.html#line478">line 478</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="type"><span class="type-signature"></span>type<span class="type-signature"> :string</span></h3><div class="description"><p>The type of the model. Defined on the class. Defaults to the underscored version of the class name (eg 'calendar_events').</p></div><div class="member-item-container flex"><strong>Type:</strong><ul><li><span class="param-type">string</span></li></ul></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Model.js.html">Model.js</a>, <a href="Model.js.html#line98">line 98</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="type"><span class="type-signature"></span>type<span class="type-signature"> :string</span></h3><div class="description"><p>shortcut to get the static</p></div><div class="member-item-container flex"><strong>Type:</strong><ul><li><span class="param-type">string</span></li></ul></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Model.js.html">Model.js</a>, <a href="Model.js.html#line555">line 555</a></li></ul></dd></div></dl><h2 id="methods" class="subsection-title has-anchor">Methods</h2><h3 class="name has-anchor" id="_applySnapshot"><span class="type-signature"></span>_applySnapshot<span class="signature">(snapshot)</span></h3><div class="description"><p>set the current attributes and relationships to the attributes and relationships of the snapshot to be applied. also reset errors</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>snapshot</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>the snapshot to apply</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Model.js.html">Model.js</a>, <a href="Model.js.html#line539">line 539</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="_takeSnapshot"><span class="type-signature"></span>_takeSnapshot<span class="signature">(options)</span></h3><div class="description"><p>take a snapshot of the current model state. if persisted, clear the stack and push this snapshot to the top if not persisted, push this snapshot to the top of the stack</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>options</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>options to use to set the persisted state</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Model.js.html">Model.js</a>, <a href="Model.js.html#line519">line 519</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="clone"><span class="type-signature"></span>clone<span class="signature">()</span><span class="type-signature"> &rarr; {object}</span></h3><div class="description"><p>Clones this model TODO: REMOVE</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Model.js.html">Model.js</a>, <a href="Model.js.html#line771">line 771</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><p>a clone of this model</p></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">object</span></dd></dl></div><h3 class="name has-anchor" id="destroy"><span class="type-signature"></span>destroy<span class="signature">(options)</span><span class="type-signature"> &rarr; {Promise}</span></h3><div class="description"><p>deletes a record from the store and server</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>options</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>params and option to skip removal from the store</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Model.js.html">Model.js</a>, <a href="Model.js.html#line400">line 400</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><p>an empty promise with any success/error status</p></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">Promise</span></dd></dl></div><h3 class="name has-anchor" id="errorForKey"><span class="type-signature"></span>errorForKey<span class="signature">(key)</span><span class="type-signature"> &rarr; {string}</span></h3><div class="description"><p>Getter to check if the record has errors.</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>key</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>the key to check</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Model.js.html">Model.js</a>, <a href="Model.js.html#line611">line 611</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><p>the error text</p></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">string</span></dd></dl></div><h3 class="name has-anchor" id="isSame"><span class="type-signature"></span>isSame<span class="signature">(other)</span><span class="type-signature"> &rarr; {boolean}</span></h3><div class="description"><p>Comparison by identity returns <code>true</code> if this object has the same type and id as the &quot;other&quot; object, ignores differences in attrs and relationships</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>other</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>other model object</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Model.js.html">Model.js</a>, <a href="Model.js.html#line785">line 785</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><p>if this object has the same type and id</p></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">boolean</span></dd></dl></div><h3 class="name has-anchor" id="jsonapi"><span class="type-signature"></span>jsonapi<span class="signature">(options)</span><span class="type-signature"> &rarr; {object}</span></h3><div class="description"><p>getter method to get data in api compliance format TODO: Figure out how to handle unpersisted ids</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>options</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>serialization options</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Model.js.html">Model.js</a>, <a href="Model.js.html#line656">line 656</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><p>data in JSON::API format</p></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">object</span></dd></dl></div><h3 class="name has-anchor" id="reload"><span class="type-signature"></span>reload<span class="signature">(options)</span><span class="type-signature"> &rarr; {Promise}</span></h3><div class="description"><p>Replaces the record with the canonical version from the server.</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>options</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>props to use for the fetch</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Model.js.html">Model.js</a>, <a href="Model.js.html#line361">line 361</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><p>the refreshed record</p></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">Promise</span></dd></dl></div><h3 class="name has-anchor" id="rollback"><span class="type-signature"></span>rollback<span class="signature">()</span></h3><div class="description"><p>restores data to its last snapshot state</p><pre class="prettyprint source"><code>todo = store.find('todos', 5)
todo.name
=> &quot;A good thing to measure&quot;
todo.name = &quot;Another good thing to measure&quot;
todo.rollback()
todo.name
=> &quot;A good thing to measure&quot;
</code></pre></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Model.js.html">Model.js</a>, <a href="Model.js.html#line288">line 288</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="rollbackToPersisted"><span class="type-signature"></span>rollbackToPersisted<span class="signature">()</span></h3><div class="description"><p>restores data to its last persisted state or the oldest snapshot state if the model was never persisted</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Model.js.html">Model.js</a>, <a href="Model.js.html#line296">line 296</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="save"><span class="type-signature"></span>save<span class="signature">(options)</span><span class="type-signature"> &rarr; {Promise}</span></h3><div class="description"><p>creates or updates a record.</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>options</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>query params and sparse fields to use</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Model.js.html">Model.js</a>, <a href="Model.js.html#line307">line 307</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><p>the persisted record</p></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">Promise</span></dd></dl></div><h3 class="name has-anchor" id="setPreviousSnapshot"><span class="type-signature"></span>setPreviousSnapshot<span class="signature">()</span></h3><div class="description"><p>Sets previous snapshot to current snapshot</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Model.js.html">Model.js</a>, <a href="Model.js.html#line488">line 488</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="updateAttributesFromResponse"><span class="type-signature"></span>updateAttributesFromResponse<span class="signature">(data, included)</span></h3><div class="description"><p>Used after a save. TODO: move to store with other fetch methods</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>in jsonapi format</p></td></tr><tr><td class="name"><code>included</code></td><td class="type"><span class="param-type">Array</span></td><td class="description last"><p>array of data in jsonapi format</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Model.js.html">Model.js</a>, <a href="Model.js.html#line727">line 727</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="validate"><span class="type-signature"></span>validate<span class="signature">(options)</span><span class="type-signature"> &rarr; {boolean}</span></h3><div class="description"><p>Checks all validations, adding errors where necessary and returning <code>false</code> if any are not valid Default is to check all validations, but they can be selectively run via options:</p><ul><li>attributes - an array of names of attributes to validate</li><li>relationships - an array of names of relationships to validate</li></ul></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>options</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>attributes and relationships to use for the validation</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Model.js.html">Model.js</a>, <a href="Model.js.html#line381">line 381</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><p>key / value of attributes and relationship validations</p></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">boolean</span></dd></dl></div></article></section></div></div></div><div class="search-container" id="PkfLWpAbet" style="display:none"><div class="wrapper" id="iCxFxjkHbP"><button class="icon-button search-close-button" id="VjLlGakifb" aria-label="close search"><svg><use xlink:href="#close-icon"></use></svg></button><div class="search-box-c"><svg><use xlink:href="#search-icon"></use></svg> <input type="text" id="vpcKVYIppa" class="search-input" placeholder="Search..." autofocus></div><div class="search-result-c" id="fWwVHRuDuN"><span class="search-result-c-text">Type anything to view search result</span></div></div></div><div class="mobile-menu-icon-container"><button class="icon-button" id="mobile-menu" data-isopen="false" aria-label="menu"><svg><use xlink:href="#menu-icon"></use></svg></button></div><div id="mobile-sidebar" class="mobile-sidebar-container"><div class="mobile-sidebar-wrapper"><a href="/" class="sidebar-title sidebar-title-anchor">Home</a><div class="mobile-nav-links"></div><div class="mobile-sidebar-items-c"><div class="sidebar-section-title with-arrow" data-isopen="false" id="FGy1l57fNk4UoJcJB640p"><div>Classes</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="FactoryFarm.html">FactoryFarm</a></div><div class="sidebar-section-children"><a href="MockServer.html">MockServer</a></div><div class="sidebar-section-children"><a href="Model.html">Model</a></div><div class="sidebar-section-children"><a href="Store.html">Store</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="G8u7SHmMC2Ta12ZcKygGO"><div>Global</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="global.html#addIncluded">addIncluded</a></div><div class="sidebar-section-children"><a href="global.html#circularFetchError">circularFetchError</a></div><div class="sidebar-section-children"><a href="global.html#circularFindError">circularFindError</a></div><div class="sidebar-section-children"><a href="global.html#combineRacedRequests">combineRacedRequests</a></div><div class="sidebar-section-children"><a href="global.html#deriveIdQueryStrings">deriveIdQueryStrings</a></div><div class="sidebar-section-children"><a href="global.html#diff">diff</a></div><div class="sidebar-section-children"><a href="global.html#disallowFetches">disallowFetches</a></div><div class="sidebar-section-children"><a href="global.html#makeDate">makeDate</a></div><div class="sidebar-section-children"><a href="global.html#parseErrorPointer">parseErrorPointer</a></div><div class="sidebar-section-children"><a href="global.html#parseErrors">parseErrors</a></div><div class="sidebar-section-children"><a href="global.html#requestUrl">requestUrl</a></div><div class="sidebar-section-children"><a href="global.html#serverResponse">serverResponse</a></div><div class="sidebar-section-children"><a href="global.html#singularizeType">singularizeType</a></div><div class="sidebar-section-children"><a href="global.html#stringifyIds">stringifyIds</a></div><div class="sidebar-section-children"><a href="global.html#validateProperties">validateProperties</a></div><div class="sidebar-section-children"><a href="global.html#walk">walk</a></div><div class="sidebar-section-children"><a href="global.html#wrapResponse">wrapResponse</a></div></div></div><div class="mobile-navbar-actions"><div class="navbar-right-item"><button class="icon-button search-button" aria-label="open-search"><svg><use xlink:href="#search-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button theme-toggle" aria-label="toggle-theme"><svg><use class="theme-svg-use" xlink:href="#light-theme-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button font-size" aria-label="change-font-size"><svg><use xlink:href="#font-size-icon"></use></svg></button></div></div></div></div><script type="text/javascript" src="scripts/core.min.js"></script><script src="scripts/search.min.js" defer="defer"></script><script src="scripts/third-party/fuse.js" defer="defer"></script><script type="text/javascript">var tocbotInstance=tocbot.init({tocSelector:"#eed4d2a0bfd64539bb9df78095dec881",contentSelector:".main-content",headingSelector:"h1, h2, h3",hasInnerContainers:!0,scrollContainer:".main-content",headingsOffset:130,onClick:bringLinkToView})</script></body></html>