<!DOCTYPE html><html lang="en" style="font-size:16px"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Class: Store</title><!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]--><script src="scripts/third-party/hljs.js" defer="defer"></script><script src="scripts/third-party/hljs-line-num.js" defer="defer"></script><script src="scripts/third-party/popper.js" defer="defer"></script><script src="scripts/third-party/tippy.js" defer="defer"></script><script src="scripts/third-party/tocbot.min.js"></script><script>var baseURL="/",locationPathname="",baseURL=(locationPathname=document.location.pathname).substr(0,locationPathname.lastIndexOf("/")+1)</script><link rel="stylesheet" href="styles/clean-jsdoc-theme.min.css"><svg aria-hidden="true" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="display:none"><defs><symbol id="copy-icon" viewbox="0 0 488.3 488.3"><g><path d="M314.25,85.4h-227c-21.3,0-38.6,17.3-38.6,38.6v325.7c0,21.3,17.3,38.6,38.6,38.6h227c21.3,0,38.6-17.3,38.6-38.6V124    C352.75,102.7,335.45,85.4,314.25,85.4z M325.75,449.6c0,6.4-5.2,11.6-11.6,11.6h-227c-6.4,0-11.6-5.2-11.6-11.6V124    c0-6.4,5.2-11.6,11.6-11.6h227c6.4,0,11.6,5.2,11.6,11.6V449.6z"/><path d="M401.05,0h-227c-21.3,0-38.6,17.3-38.6,38.6c0,7.5,6,13.5,13.5,13.5s13.5-6,13.5-13.5c0-6.4,5.2-11.6,11.6-11.6h227    c6.4,0,11.6,5.2,11.6,11.6v325.7c0,6.4-5.2,11.6-11.6,11.6c-7.5,0-13.5,6-13.5,13.5s6,13.5,13.5,13.5c21.3,0,38.6-17.3,38.6-38.6    V38.6C439.65,17.3,422.35,0,401.05,0z"/></g></symbol><symbol id="search-icon" viewBox="0 0 512 512"><g><g><path d="M225.474,0C101.151,0,0,101.151,0,225.474c0,124.33,101.151,225.474,225.474,225.474    c124.33,0,225.474-101.144,225.474-225.474C450.948,101.151,349.804,0,225.474,0z M225.474,409.323    c-101.373,0-183.848-82.475-183.848-183.848S124.101,41.626,225.474,41.626s183.848,82.475,183.848,183.848    S326.847,409.323,225.474,409.323z"/></g></g><g><g><path d="M505.902,476.472L386.574,357.144c-8.131-8.131-21.299-8.131-29.43,0c-8.131,8.124-8.131,21.306,0,29.43l119.328,119.328    c4.065,4.065,9.387,6.098,14.715,6.098c5.321,0,10.649-2.033,14.715-6.098C514.033,497.778,514.033,484.596,505.902,476.472z"/></g></g></symbol><symbol id="font-size-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M11.246 15H4.754l-2 5H.6L7 4h2l6.4 16h-2.154l-2-5zm-.8-2L8 6.885 5.554 13h4.892zM21 12.535V12h2v8h-2v-.535a4 4 0 1 1 0-6.93zM19 18a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/></symbol><symbol id="add-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M11 11V5h2v6h6v2h-6v6h-2v-6H5v-2z"/></symbol><symbol id="minus-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M5 11h14v2H5z"/></symbol><symbol id="dark-theme-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M10 7a7 7 0 0 0 12 4.9v.1c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2h.1A6.979 6.979 0 0 0 10 7zm-6 5a8 8 0 0 0 15.062 3.762A9 9 0 0 1 8.238 4.938 7.999 7.999 0 0 0 4 12z"/></symbol><symbol id="light-theme-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M12 18a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm0-2a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM11 1h2v3h-2V1zm0 19h2v3h-2v-3zM3.515 4.929l1.414-1.414L7.05 5.636 5.636 7.05 3.515 4.93zM16.95 18.364l1.414-1.414 2.121 2.121-1.414 1.414-2.121-2.121zm2.121-14.85l1.414 1.415-2.121 2.121-1.414-1.414 2.121-2.121zM5.636 16.95l1.414 1.414-2.121 2.121-1.414-1.414 2.121-2.121zM23 11v2h-3v-2h3zM4 11v2H1v-2h3z"/></symbol><symbol id="reset-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M18.537 19.567A9.961 9.961 0 0 1 12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10c0 2.136-.67 4.116-1.81 5.74L17 12h3a8 8 0 1 0-2.46 5.772l.997 1.795z"/></symbol><symbol id="down-icon" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.7803 6.21967C13.0732 6.51256 13.0732 6.98744 12.7803 7.28033L8.53033 11.5303C8.23744 11.8232 7.76256 11.8232 7.46967 11.5303L3.21967 7.28033C2.92678 6.98744 2.92678 6.51256 3.21967 6.21967C3.51256 5.92678 3.98744 5.92678 4.28033 6.21967L8 9.93934L11.7197 6.21967C12.0126 5.92678 12.4874 5.92678 12.7803 6.21967Z"></path></symbol><symbol id="codepen-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M16.5 13.202L13 15.535v3.596L19.197 15 16.5 13.202zM14.697 12L12 10.202 9.303 12 12 13.798 14.697 12zM20 10.869L18.303 12 20 13.131V10.87zM19.197 9L13 4.869v3.596l3.5 2.333L19.197 9zM7.5 10.798L11 8.465V4.869L4.803 9 7.5 10.798zM4.803 15L11 19.131v-3.596l-3.5-2.333L4.803 15zM4 13.131L5.697 12 4 10.869v2.262zM2 9a1 1 0 0 1 .445-.832l9-6a1 1 0 0 1 1.11 0l9 6A1 1 0 0 1 22 9v6a1 1 0 0 1-.445.832l-9 6a1 1 0 0 1-1.11 0l-9-6A1 1 0 0 1 2 15V9z"/></symbol><symbol id="close-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M12 10.586l4.95-4.95 1.414 1.414-4.95 4.95 4.95 4.95-1.414 1.414-4.95-4.95-4.95 4.95-1.414-1.414 4.95-4.95-4.95-4.95L7.05 5.636z"/></symbol><symbol id="menu-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M3 4h18v2H3V4zm0 7h18v2H3v-2zm0 7h18v2H3v-2z"/></symbol></defs></svg></head><body class="dark" data-theme="dark"><div class="sidebar-container"><div class="sidebar" id="sidebar"><a href="/" class="sidebar-title sidebar-title-anchor">Home</a><div class="sidebar-items-container"><div class="sidebar-section-title with-arrow" data-isopen="false" id="_Ve2jYuz-w2DIlt7Ff9ON"><div>Classes</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="FactoryFarm.html">FactoryFarm</a></div><div class="sidebar-section-children"><a href="FactoryFarm.html">FactoryFarm</a></div><div class="sidebar-section-children"><a href="MockServer.html">MockServer</a></div><div class="sidebar-section-children"><a href="Model.html">Model</a></div><div class="sidebar-section-children"><a href="RelatedRecordsArray.html">RelatedRecordsArray</a></div><div class="sidebar-section-children"><a href="Store.html">Store</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="cSowbtzimR7q9fZm4EXDN"><div>Global</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="global.html#QueryString">QueryString</a></div><div class="sidebar-section-children"><a href="global.html#addIncluded">addIncluded</a></div><div class="sidebar-section-children"><a href="global.html#addRelatedRecord">addRelatedRecord</a></div><div class="sidebar-section-children"><a href="global.html#circularFetchError">circularFetchError</a></div><div class="sidebar-section-children"><a href="global.html#circularFindError">circularFindError</a></div><div class="sidebar-section-children"><a href="global.html#coerceDataToExistingRecord">coerceDataToExistingRecord</a></div><div class="sidebar-section-children"><a href="global.html#combineRacedRequests">combineRacedRequests</a></div><div class="sidebar-section-children"><a href="global.html#defineToManyRelationships">defineToManyRelationships</a></div><div class="sidebar-section-children"><a href="global.html#defineToOneRelationships">defineToOneRelationships</a></div><div class="sidebar-section-children"><a href="global.html#deriveIdQueryStrings">deriveIdQueryStrings</a></div><div class="sidebar-section-children"><a href="global.html#diff">diff</a></div><div class="sidebar-section-children"><a href="global.html#disallowFetches">disallowFetches</a></div><div class="sidebar-section-children"><a href="global.html#getOneFromFactory">getOneFromFactory</a></div><div class="sidebar-section-children"><a href="global.html#makeDate">makeDate</a></div><div class="sidebar-section-children"><a href="global.html#parseErrorPointer">parseErrorPointer</a></div><div class="sidebar-section-children"><a href="global.html#parseErrors">parseErrors</a></div><div class="sidebar-section-children"><a href="global.html#removeRelatedRecord">removeRelatedRecord</a></div><div class="sidebar-section-children"><a href="global.html#requestUrl">requestUrl</a></div><div class="sidebar-section-children"><a href="global.html#serverResponse">serverResponse</a></div><div class="sidebar-section-children"><a href="global.html#setRelatedRecord">setRelatedRecord</a></div><div class="sidebar-section-children"><a href="global.html#simulatePatch">simulatePatch</a></div><div class="sidebar-section-children"><a href="global.html#simulatePost">simulatePost</a></div><div class="sidebar-section-children"><a href="global.html#singularizeType">singularizeType</a></div><div class="sidebar-section-children"><a href="global.html#stringifyIds">stringifyIds</a></div><div class="sidebar-section-children"><a href="global.html#validatePresence">validatePresence</a></div><div class="sidebar-section-children"><a href="global.html#validateProperties">validateProperties</a></div><div class="sidebar-section-children"><a href="global.html#walk">walk</a></div><div class="sidebar-section-children"><a href="global.html#wrapResponse">wrapResponse</a></div></div></div></div></div><div class="navbar-container" id="VuAckcnZhf"><nav class="navbar"><div class="navbar-left-items"></div><div class="navbar-right-items"><div class="navbar-right-item"><button class="icon-button search-button" aria-label="open-search"><svg><use xlink:href="#search-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button theme-toggle" aria-label="toggle-theme"><svg><use class="theme-svg-use" xlink:href="#light-theme-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button font-size" aria-label="change-font-size"><svg><use xlink:href="#font-size-icon"></use></svg></button></div></div><nav></nav></nav></div><div class="toc-container"><div class="toc-content"><span class="bold">On this page</span><div id="eed4d2a0bfd64539bb9df78095dec881"></div></div></div><div class="body-wrapper"><div class="main-content"><div class="main-wrapper"><section><header><h1 id="Store-title" class="has-anchor">Store</h1><div class="class-description"><p>Defines the Data Store class.</p></div></header><article><div class="container-overview"><h2 id="constructor" class="has-anchor">Constructor</h2><h3 class="name has-anchor" id="Store"><span class="type-signature"></span>new Store<span class="signature">(options)</span></h3><div class="description"><p>Initializer for Store class</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>options</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>options to use for initialization</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Store.js.html">Store.js</a>, <a href="Store.js.html#line17">line 17</a></li></ul></dd></div></dl></div><h2 id="members" class="subsection-title has-anchor">Members</h2><h3 class="name has-anchor" id="add"><span class="type-signature"></span>add<span class="type-signature"></span></h3><div class="description"><p>Adds an instance or an array of instances to the store.</p><pre class="prettyprint source"><code>const todo = store.add('todos', { name: &quot;A good thing to measure&quot; })
todo.name
=> &quot;A good thing to measure&quot;

const todoArray = [{ name: &quot;Another good thing to measure&quot; }]
const [todo] = store.add('todos', [{ name: &quot;Another good thing to measure&quot; }])
todo.name
=> &quot;Another good thing to measure&quot;
</code></pre></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Store.js.html">Store.js</a>, <a href="Store.js.html#line91">line 91</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="addModel"><span class="type-signature"></span>addModel<span class="type-signature"></span></h3><div class="description"><p>Adds a model of <code>type</code> with properties</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Store.js.html">Store.js</a>, <a href="Store.js.html#line149">line 149</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="addModels"><span class="type-signature"></span>addModels<span class="type-signature"></span></h3><div class="description"><p>Adds a number of models at once to the store.</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Store.js.html">Store.js</a>, <a href="Store.js.html#line177">line 177</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="bulkCreate"><span class="type-signature"></span>bulkCreate<span class="type-signature"></span></h3><div class="description"><p>Save a collection of new records via a bulk-supported JSONApi endpoint. All records need to be of the same type and not have an existing id.</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Store.js.html">Store.js</a>, <a href="Store.js.html#line244">line 244</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="bulkSave"><span class="type-signature"></span>bulkSave<span class="type-signature"></span></h3><div class="description"><p>Saves a collection of records via a bulk-supported JSONApi endpoint. All records need to be of the same type.</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Store.js.html">Store.js</a>, <a href="Store.js.html#line190">line 190</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="bulkUpdate"><span class="type-signature"></span>bulkUpdate<span class="type-signature"></span></h3><div class="description"><p>Updates a collection of records via a bulk-supported JSONApi endpoint. All records need to be of the same type and have an existing id.</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Store.js.html">Store.js</a>, <a href="Store.js.html#line260">line 260</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="data"><span class="type-signature"></span>data<span class="type-signature"> :object</span></h3><div class="description"><p>Stores data by type. { todos: { records: observable.map(), // records by id cache: observable.map(), // cached ids by url meta: observable.map() // meta information by url } }</p></div><div class="member-item-container flex"><strong>Type:</strong><ul><li><span class="param-type">object</span></li></ul></div><dl class="details"><div class="details-item-container"><dt class="tag-default bold">Default Value</dt><dd class="tag-default"><ul><li data-skip-pre-process="true">{}</li></ul></dd></div><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Store.js.html">Store.js</a>, <a href="Store.js.html#line31">line 31</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="deleteLoadingState"><span class="type-signature"></span>deleteLoadingState<span class="type-signature"></span></h3><div class="description"><p>Removes a loading state. If that leaves an empty array for the map key in <code>loadingStates</code>, will also delete the set. Also adds to loadedStates.</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Store.js.html">Store.js</a>, <a href="Store.js.html#line523">line 523</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="fetchAll"><span class="type-signature"></span>fetchAll<span class="type-signature"></span></h3><div class="description"><p>Finds all records with the given <code>type</code>. Always fetches from the server.</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Store.js.html">Store.js</a>, <a href="Store.js.html#line553">line 553</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="fetchMany"><span class="type-signature"></span>fetchMany<span class="type-signature"></span></h3><div class="description"><p>Fetch all records with the given <code>type</code> and <code>ids</code> from the server.</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Store.js.html">Store.js</a>, <a href="Store.js.html#line388">line 388</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="findAll"><span class="type-signature"></span>findAll<span class="type-signature"></span></h3><div class="description"><p>Finds all records of the given <code>type</code>. If any records from the given type from url are in the store, it returns those. Otherwise, it fetches all records from the server.</p><p>store.findAll('todos') // fetch triggered =&gt; [todo1, todo2, todo3]</p><p>store.findAll('todos') // no fetch triggered =&gt; [todo1, todo2, todo3]</p><p>Query params can be passed as part of the options hash. The response will be cached, so the next time <code>findAll</code> is called with identical params and values, the store will first look for the local result.</p><p>store.findAll('todos', { queryParams: { filter: { start_time: '2020-06-01T00:00:00.000Z', end_time: '2020-06-02T00:00:00.000Z' } } })</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Store.js.html">Store.js</a>, <a href="Store.js.html#line626">line 626</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="findMany"><span class="type-signature"></span>findMany<span class="type-signature"></span></h3><div class="description"><p>Finds multiple records of the given <code>type</code> with the given <code>ids</code> and returns them wrapped in a Promise. If all records are in the store, it returns those. If some records are in the store, it returns those plus fetches all other records. Otherwise, it fetches all records from the server.</p><p>store.findMany('todos', [1, 2, 3]) // fetch triggered =&gt; [todo1, todo2, todo3]</p><p>store.findMany('todos', [3, 2, 1]) // no fetch triggered =&gt; [todo1, todo2, todo3]</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Store.js.html">Store.js</a>, <a href="Store.js.html#line426">line 426</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="findOne"><span class="type-signature"></span>findOne<span class="type-signature"></span></h3><div class="description"><p>Finds a record by <code>id</code>, always returning a Promise. If available in the store, it returns that record. Otherwise, it fetches the record from the server.</p><p>store.findOne('todos', 5) // fetch triggered =&gt; Promise(todo) store.findOne('todos', 5) // no fetch triggered =&gt; Promise(todo)</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Store.js.html">Store.js</a>, <a href="Store.js.html#line356">line 356</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="getAll"><span class="type-signature"></span>getAll<span class="type-signature"></span></h3><div class="description"><p>Gets all records with the given <code>type</code> from the store. This will never fetch from the server.</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Store.js.html">Store.js</a>, <a href="Store.js.html#line479">line 479</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="getMany"><span class="type-signature"></span>getMany<span class="type-signature"></span></h3><div class="description"><p>Get all records with the given <code>type</code> and <code>ids</code> from the store. This will never fetch from the server.</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Store.js.html">Store.js</a>, <a href="Store.js.html#line373">line 373</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="getOne"><span class="type-signature"></span>getOne<span class="type-signature"></span></h3><div class="description"><p>Gets a record from the store. Will never fetch from the server. If given queryParams, it will check the cache for the record.</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Store.js.html">Store.js</a>, <a href="Store.js.html#line287">line 287</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="lastResponseHeaders"><span class="type-signature"></span>lastResponseHeaders<span class="type-signature"> :object</span></h3><div class="description"><p>The most recent response headers according to settings specified as <code>headersOfInterest</code></p></div><div class="member-item-container flex"><strong>Type:</strong><ul><li><span class="param-type">object</span></li></ul></div><dl class="details"><div class="details-item-container"><dt class="tag-default bold">Default Value</dt><dd class="tag-default"><ul><li data-skip-pre-process="true">{}</li></ul></dd></div><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Store.js.html">Store.js</a>, <a href="Store.js.html#line39">line 39</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="loadedStates"><span class="type-signature"></span>loadedStates<span class="type-signature"> :Map</span></h3><div class="description"><p>Map of data that has been loaded into the store. This can be observed to know if a given type (or tag) has finished loading.</p><ul><li>Key is a tag that is either the model type or a custom value</li><li>Falue is a Set of JSON-encoded objects with unique urls and queryParams Set[JSON.stringify({ url, type, queryParams, queryTag })]</li></ul></div><div class="member-item-container flex"><strong>Type:</strong><ul><li><span class="param-type">Map</span></li></ul></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Store.js.html">Store.js</a>, <a href="Store.js.html#line62">line 62</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="loadingStates"><span class="type-signature"></span>loadingStates<span class="type-signature"> :Map</span></h3><div class="description"><p>Map of data that is in flight. This can be observed to know if a given type (or tag) is still processing.</p><ul><li>Key is a tag that is either the model type or a custom value</li><li>Falue is a Set of JSON-encoded objects with unique urls and queryParams Set[JSON.stringify({ url, type, queryParams, queryTag })]</li></ul></div><div class="member-item-container flex"><strong>Type:</strong><ul><li><span class="param-type">Map</span></li></ul></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Store.js.html">Store.js</a>, <a href="Store.js.html#line50">line 50</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="pickAttributes"><span class="type-signature"></span>pickAttributes<span class="type-signature"></span></h3><div class="description"><p>Given a set of properties and type, returns an object with only the properties that are defined as attributes in the model for that type.</p><pre class="prettyprint source"><code>properties = { title: 'Do laundry', unrelatedProperty: 'Do nothing' }
pickAttributes(properties, 'todos')
=> { title: 'Do laundry' }
</code></pre></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Store.js.html">Store.js</a>, <a href="Store.js.html#line112">line 112</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="pickRelationships"><span class="type-signature"></span>pickRelationships<span class="type-signature"></span></h3><div class="description"><p>Given a set of properties and type, returns an object with only the properties that are defined as relationships in the model for that type.</p><pre class="prettyprint source"><code>properties = { notes: [note1, note2], category: cat1, title: 'Fold Laundry' }
pickRelationships(properties, 'todos')
=> {
      notes: {
        data: [{ id: '1', type: 'notes' }, { id: '2', type: 'notes' }]
      },
      category: {
        data: { id: '1', type: 'categories' }
      }
   }
</code></pre></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Store.js.html">Store.js</a>, <a href="Store.js.html#line137">line 137</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="remove"><span class="type-signature"></span>remove<span class="type-signature"></span></h3><div class="description"><p>Removes a record from the store by deleting it from the type's record map</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Store.js.html">Store.js</a>, <a href="Store.js.html#line274">line 274</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="setLoadingState"><span class="type-signature"></span>setLoadingState<span class="type-signature"></span></h3><div class="description"><p>Sets a loading state when a fetch / deserialization is in flight. Loading states are Sets inside of the <code>loadingStates</code> Map, so multiple loading states can be in flight at the same time. An optional query tag can be passed to identify the particular query.</p><p>const todos = store.fetchAll('todos', { queryTag: 'myTodos' }) store.loadingStates.get('myTodos') =&gt; Set([JSON.stringify({ url, type, queryParams, queryTag })])</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Store.js.html">Store.js</a>, <a href="Store.js.html#line504">line 504</a></li></ul></dd></div></dl><h2 id="methods" class="subsection-title has-anchor">Methods</h2><h3 class="name has-anchor" id="clearCache"><span class="type-signature"></span>clearCache<span class="signature">(type)</span><span class="type-signature"> &rarr; {Set}</span></h3><div class="description"><p>Clears the cache for provided record type</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>type</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>the model type</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Store.js.html">Store.js</a>, <a href="Store.js.html#line826">line 826</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><p>the cleared set</p></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">Set</span></dd></dl></div><h3 class="name has-anchor" id="createModelFromData"><span class="type-signature"></span>createModelFromData<span class="signature">(data)</span><span class="type-signature"> &rarr; {object}</span></h3><div class="description"><p>Helper to create a new model</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>id, type, attributes and relationships</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Store.js.html">Store.js</a>, <a href="Store.js.html#line979">line 979</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><p>model instance</p></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">object</span></dd></dl></div><h3 class="name has-anchor" id="createOrUpdateModelFromData"><span class="type-signature"></span>createOrUpdateModelFromData<span class="signature">(data)</span><span class="type-signature"> &rarr; {object}</span></h3><div class="description"><p>Creates or updates a model</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>the object will be used to update or create a model</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Store.js.html">Store.js</a>, <a href="Store.js.html#line905">line 905</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><p>the record</p></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">object</span></dd></dl></div><h3 class="name has-anchor" id="createOrUpdateModelsFromData"><span class="type-signature"></span>createOrUpdateModelsFromData<span class="signature">(data)</span><span class="type-signature"> &rarr; {Array}</span></h3><div class="description"><p>Create multiple models from an array of data. It will only build objects with defined models, and ignore everything else in the data.</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">Array</span></td><td class="description last"><p>the array of jsonapi data</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Store.js.html">Store.js</a>, <a href="Store.js.html#line962">line 962</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><p>an array of the models serialized</p></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">Array</span></dd></dl></div><h3 class="name has-anchor" id="fetch"><span class="type-signature"></span>fetch<span class="signature">(url, options)</span><span class="type-signature"> &rarr; {Promise}</span></h3><div class="description"><p>Wrapper around fetch applies user defined fetch options</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>url</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>the url to fetch</p></td></tr><tr><td class="name"><code>options</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>override options to use for fetching</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Store.js.html">Store.js</a>, <a href="Store.js.html#line738">line 738</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><p>the data from the server</p></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">Promise</span></dd></dl></div><h3 class="name has-anchor" id="fetchOne"><span class="type-signature"></span>fetchOne<span class="signature">(type, id, options)</span><span class="type-signature"> &rarr; {Promise}</span></h3><div class="description"><p>Fetches record by <code>id</code> from the server and returns a Promise.</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>type</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>the record type to fetch</p></td></tr><tr><td class="name"><code>id</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>the id of the record to fetch</p></td></tr><tr><td class="name"><code>options</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>{ queryParams }</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Store.js.html">Store.js</a>, <a href="Store.js.html#line309">line 309</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><p>record result wrapped in a Promise</p></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">Promise</span></dd></dl></div><h3 class="name has-anchor" id="fetchUrl"><span class="type-signature"></span>fetchUrl<span class="signature">(type, queryParams, id, options)</span><span class="type-signature"> &rarr; {string}</span></h3><div class="description"><p>Builds fetch url based on type, queryParams, id, and options</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>type</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>the type to find</p></td></tr><tr><td class="name"><code>queryParams</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>params to be used in the fetch</p></td></tr><tr><td class="name"><code>id</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>a model id</p></td></tr><tr><td class="name"><code>options</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>options for fetching</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Store.js.html">Store.js</a>, <a href="Store.js.html#line465">line 465</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><p>a formatted url</p></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">string</span></dd></dl></div><h3 class="name has-anchor" id="getCachedId"><span class="type-signature"></span>getCachedId<span class="signature">(type, id)</span><span class="type-signature"> &rarr; {object}</span></h3><div class="description"><p>Gets a record from store based on cached query</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>type</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>the model type</p></td></tr><tr><td class="name"><code>id</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>the id to get</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Store.js.html">Store.js</a>, <a href="Store.js.html#line885">line 885</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><p>the cached object</p></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">object</span></dd></dl></div><h3 class="name has-anchor" id="getCachedIds"><span class="type-signature"></span>getCachedIds<span class="signature">(type, url)</span><span class="type-signature"> &rarr; {Array}</span></h3><div class="description"><p>Gets records from store based on cached query</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>type</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>the model type</p></td></tr><tr><td class="name"><code>url</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>the url that was requested</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Store.js.html">Store.js</a>, <a href="Store.js.html#line871">line 871</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><p>array of ids</p></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">Array</span></dd></dl></div><h3 class="name has-anchor" id="getCachedRecord"><span class="type-signature"></span>getCachedRecord<span class="signature">(type, id, queryParams)</span><span class="type-signature"> &rarr; {object}</span></h3><div class="description"><p>Gets single from store based on cached query</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>type</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>the model type</p></td></tr><tr><td class="name"><code>id</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>the model id</p></td></tr><tr><td class="name"><code>queryParams</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>the params to be searched</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Store.js.html">Store.js</a>, <a href="Store.js.html#line838">line 838</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><p>record</p></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">object</span></dd></dl></div><h3 class="name has-anchor" id="getCachedRecords"><span class="type-signature"></span>getCachedRecords<span class="signature">(type, queryParams, id)</span><span class="type-signature"> &rarr; {Array}</span></h3><div class="description"><p>Gets records from store based on cached query and any previously requested ids</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>type</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>type of records to get</p></td></tr><tr><td class="name"><code>queryParams</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>query params that were used for the query</p></td></tr><tr><td class="name"><code>id</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>optional param if only getting 1 cached record by id</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Store.js.html">Store.js</a>, <a href="Store.js.html#line852">line 852</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><p>array of records</p></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">Array</span></dd></dl></div><h3 class="name has-anchor" id="getKlass"><span class="type-signature"></span>getKlass<span class="signature">(type)</span><span class="type-signature"> &rarr; {function}</span></h3><div class="description"><p>Helper to look up model class for type.</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>type</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>the model type</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Store.js.html">Store.js</a>, <a href="Store.js.html#line895">line 895</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><p>model constructor</p></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">function</span></dd></dl></div><h3 class="name has-anchor" id="getRecord"><span class="type-signature"></span>getRecord<span class="signature">(type, id)</span><span class="type-signature"> &rarr; {object}</span></h3><div class="description"><p>Gets individual record from store</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>type</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>the model type</p></td></tr><tr><td class="name"><code>id</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>the model id</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Store.js.html">Store.js</a>, <a href="Store.js.html#line775">line 775</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><p>record</p></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">object</span></dd></dl></div><h3 class="name has-anchor" id="getRecords"><span class="type-signature"></span>getRecords<span class="signature">(type)</span><span class="type-signature"> &rarr; {Array}</span></h3><div class="description"><p>Gets records for type of collection from observable</p><p>NOTE: We only return records by unique id, this handles a scenario where the store keeps around a reference to a newly persisted record by its temp uuid. We can't simply remove the temp uuid reference because other related models may be still using the temp uuid in their relationships data object. However, when we are listing out records we want them to be unique by the persisted id (which is updated after a Model.save)</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>type</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>the model type</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Store.js.html">Store.js</a>, <a href="Store.js.html#line798">line 798</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><p>array of objects</p></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">Array</span></dd></dl></div><h3 class="name has-anchor" id="getRecordsById"><span class="type-signature"></span>getRecordsById<span class="signature">(type, ids)</span><span class="type-signature"> &rarr; {Array}</span></h3><div class="description"><p>Get multiple records by id</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>type</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>the model type</p></td></tr><tr><td class="name"><code>ids</code></td><td class="type"><span class="param-type">Array</span></td><td class="description last"><p>the ids to find</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Store.js.html">Store.js</a>, <a href="Store.js.html#line812">line 812</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><p>array or records</p></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">Array</span></dd></dl></div><h3 class="name has-anchor" id="getType"><span class="type-signature"></span>getType<span class="signature">(type)</span><span class="type-signature"> &rarr; {object}</span></h3><div class="description"><p>Gets type of collection from data observable</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>type</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>the model type</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Store.js.html">Store.js</a>, <a href="Store.js.html#line764">line 764</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><p>observable type object structure</p></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">object</span></dd></dl></div><h3 class="name has-anchor" id="init"><span class="type-signature"></span>init<span class="signature">(options)</span></h3><div class="description"><p>Entry point for configuring the store</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>options</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>passed to constructor</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Store.js.html">Store.js</a>, <a href="Store.js.html#line662">line 662</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="initializeErrorMessages"><span class="type-signature"></span>initializeErrorMessages<span class="signature">(options)</span></h3><div class="description"><p>Configure the error messages returned from the store when API requests fail</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>options</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>for initializing the store options for initializing error messages for different HTTP status codes</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Store.js.html">Store.js</a>, <a href="Store.js.html#line722">line 722</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="initializeModelIndex"><span class="type-signature"></span>initializeModelIndex<span class="signature">(models)</span></h3><div class="description"><p>Creates the key/value index of model types</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>models</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>a fallback list of models</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Store.js.html">Store.js</a>, <a href="Store.js.html#line690">line 690</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="initializeNetworkConfiguration"><span class="type-signature"></span>initializeNetworkConfiguration<span class="signature">(options)</span></h3><div class="description"><p>Configures the store's network options</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>options</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>the parameters that will be used to set up network requests</p><h6>Properties</h6><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>baseUrl</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>the API's root url</p></td></tr><tr><td class="name"><code>defaultFetchOptions</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>options that will be used when fetching</p></td></tr><tr><td class="name"><code>headersOfInterest</code></td><td class="type"><span class="param-type">Array</span></td><td class="description last"><p>an array of headers to watch</p></td></tr><tr><td class="name"><code>retryOptions</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>options for re-fetch attempts and interval</p></td></tr></tbody></table></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Store.js.html">Store.js</a>, <a href="Store.js.html#line678">line 678</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="initializeObservableDataProperty"><span class="type-signature"></span>initializeObservableDataProperty<span class="signature">()</span></h3><div class="description"><p>Creates an obserable index with model types as the primary key</p><p>Observable({ todos: {} })</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Store.js.html">Store.js</a>, <a href="Store.js.html#line701">line 701</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="reset"><span class="type-signature"></span>reset<span class="signature">(type)</span></h3><div class="description"><p>Clears the store of a given type, or clears all if no type given</p><p>store.reset('todos') // removes all todos from store store.reset() // clears store</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>type</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>the model type</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Store.js.html">Store.js</a>, <a href="Store.js.html#line645">line 645</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="updateRecordFromData"><span class="type-signature"></span>updateRecordFromData<span class="signature">(record, data)</span></h3><div class="description"><p>Updates a record from a jsonapi hash</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>record</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>a Model record</p></td></tr><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>jsonapi-formatted data</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Store.js.html">Store.js</a>, <a href="Store.js.html#line926">line 926</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="updateRecordsFromResponse"><span class="type-signature"></span>updateRecordsFromResponse<span class="signature">(promise, records)</span><span class="type-signature"> &rarr; {Promise}</span></h3><div class="description"><p>Defines a resolution for an API call that will update a record or set of records with the data returned from the API</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>promise</code></td><td class="type"><span class="param-type">Promise</span></td><td class="description last"><p>a response from the API</p></td></tr><tr><td class="name"><code>records</code></td><td class="type"><span class="param-type">object</span> |<wbr> <span class="param-type">Array</span></td><td class="description last"><p>to be updated</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="Store.js.html">Store.js</a>, <a href="Store.js.html#line1000">line 1000</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><p>a resolved promise after operations have been performed</p></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">Promise</span></dd></dl></div></article></section></div></div></div><div class="search-container" id="PkfLWpAbet" style="display:none"><div class="wrapper" id="iCxFxjkHbP"><button class="icon-button search-close-button" id="VjLlGakifb" aria-label="close search"><svg><use xlink:href="#close-icon"></use></svg></button><div class="search-box-c"><svg><use xlink:href="#search-icon"></use></svg> <input type="text" id="vpcKVYIppa" class="search-input" placeholder="Search..." autofocus></div><div class="search-result-c" id="fWwVHRuDuN"><span class="search-result-c-text">Type anything to view search result</span></div></div></div><div class="mobile-menu-icon-container"><button class="icon-button" id="mobile-menu" data-isopen="false" aria-label="menu"><svg><use xlink:href="#menu-icon"></use></svg></button></div><div id="mobile-sidebar" class="mobile-sidebar-container"><div class="mobile-sidebar-wrapper"><a href="/" class="sidebar-title sidebar-title-anchor">Home</a><div class="mobile-nav-links"></div><div class="mobile-sidebar-items-c"><div class="sidebar-section-title with-arrow" data-isopen="false" id="_Ve2jYuz-w2DIlt7Ff9ON"><div>Classes</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="FactoryFarm.html">FactoryFarm</a></div><div class="sidebar-section-children"><a href="FactoryFarm.html">FactoryFarm</a></div><div class="sidebar-section-children"><a href="MockServer.html">MockServer</a></div><div class="sidebar-section-children"><a href="Model.html">Model</a></div><div class="sidebar-section-children"><a href="RelatedRecordsArray.html">RelatedRecordsArray</a></div><div class="sidebar-section-children"><a href="Store.html">Store</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="cSowbtzimR7q9fZm4EXDN"><div>Global</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="global.html#QueryString">QueryString</a></div><div class="sidebar-section-children"><a href="global.html#addIncluded">addIncluded</a></div><div class="sidebar-section-children"><a href="global.html#addRelatedRecord">addRelatedRecord</a></div><div class="sidebar-section-children"><a href="global.html#circularFetchError">circularFetchError</a></div><div class="sidebar-section-children"><a href="global.html#circularFindError">circularFindError</a></div><div class="sidebar-section-children"><a href="global.html#coerceDataToExistingRecord">coerceDataToExistingRecord</a></div><div class="sidebar-section-children"><a href="global.html#combineRacedRequests">combineRacedRequests</a></div><div class="sidebar-section-children"><a href="global.html#defineToManyRelationships">defineToManyRelationships</a></div><div class="sidebar-section-children"><a href="global.html#defineToOneRelationships">defineToOneRelationships</a></div><div class="sidebar-section-children"><a href="global.html#deriveIdQueryStrings">deriveIdQueryStrings</a></div><div class="sidebar-section-children"><a href="global.html#diff">diff</a></div><div class="sidebar-section-children"><a href="global.html#disallowFetches">disallowFetches</a></div><div class="sidebar-section-children"><a href="global.html#getOneFromFactory">getOneFromFactory</a></div><div class="sidebar-section-children"><a href="global.html#makeDate">makeDate</a></div><div class="sidebar-section-children"><a href="global.html#parseErrorPointer">parseErrorPointer</a></div><div class="sidebar-section-children"><a href="global.html#parseErrors">parseErrors</a></div><div class="sidebar-section-children"><a href="global.html#removeRelatedRecord">removeRelatedRecord</a></div><div class="sidebar-section-children"><a href="global.html#requestUrl">requestUrl</a></div><div class="sidebar-section-children"><a href="global.html#serverResponse">serverResponse</a></div><div class="sidebar-section-children"><a href="global.html#setRelatedRecord">setRelatedRecord</a></div><div class="sidebar-section-children"><a href="global.html#simulatePatch">simulatePatch</a></div><div class="sidebar-section-children"><a href="global.html#simulatePost">simulatePost</a></div><div class="sidebar-section-children"><a href="global.html#singularizeType">singularizeType</a></div><div class="sidebar-section-children"><a href="global.html#stringifyIds">stringifyIds</a></div><div class="sidebar-section-children"><a href="global.html#validatePresence">validatePresence</a></div><div class="sidebar-section-children"><a href="global.html#validateProperties">validateProperties</a></div><div class="sidebar-section-children"><a href="global.html#walk">walk</a></div><div class="sidebar-section-children"><a href="global.html#wrapResponse">wrapResponse</a></div></div></div><div class="mobile-navbar-actions"><div class="navbar-right-item"><button class="icon-button search-button" aria-label="open-search"><svg><use xlink:href="#search-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button theme-toggle" aria-label="toggle-theme"><svg><use class="theme-svg-use" xlink:href="#light-theme-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button font-size" aria-label="change-font-size"><svg><use xlink:href="#font-size-icon"></use></svg></button></div></div></div></div><script type="text/javascript" src="scripts/core.min.js"></script><script src="scripts/search.min.js" defer="defer"></script><script src="scripts/third-party/fuse.js" defer="defer"></script><script type="text/javascript">var tocbotInstance=tocbot.init({tocSelector:"#eed4d2a0bfd64539bb9df78095dec881",contentSelector:".main-content",headingSelector:"h1, h2, h3",hasInnerContainers:!0,scrollContainer:".main-content",headingsOffset:130,onClick:bringLinkToView})</script></body></html>